{"ast":null,"code":"var _jsxFileName = \"/Users/sayconfirmproductionsltd/Documents/GitHub/react-twitter-clone/frontend/src/pages/Login.js\";\nimport React, { useState, useRef } from 'react';\nimport axios from 'axios';\nexport default function Login(props) {\n  const url = \"http://localhost:5000/login\";\n  const signal = useRef(axios.CancelToken.source());\n  let [account, setAccount] = useState({\n    username: '',\n    password: ''\n  });\n\n  let handleChange = e => {\n    let name = e.target.name;\n    let value = e.target.value;\n    account[name] = value;\n    setAccount({ ...account,\n      account\n    });\n  };\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    let {\n      username,\n      password\n    } = account;\n    console.log(username, password);\n\n    try {\n      const res = await axios.post(url, {\n        username,\n        password\n      }, {\n        cancelToken: signal.current.token\n      });\n      console.log(res);\n\n      if (!res.status) {\n        console.log(res.message);\n        return res.message;\n      }\n\n      console.log(props);\n      props.history.push('/');\n    } catch (err) {\n      console.log(err);\n    }\n\n    setAccount({ ...account,\n      username: '',\n      password: ''\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"home col-sm-10 col-md-10 col-lg-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }\n  }, \"Login\"), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: e => {\n      handleSubmit(e);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"username\",\n    value: account.username,\n    onChange: handleChange,\n    placeholder: \"username\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"password\",\n    value: account.password,\n    onChange: handleChange,\n    placeholder: \"password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 17\n    }\n  }, \"Sign in\")));\n}","map":{"version":3,"sources":["/Users/sayconfirmproductionsltd/Documents/GitHub/react-twitter-clone/frontend/src/pages/Login.js"],"names":["React","useState","useRef","axios","Login","props","url","signal","CancelToken","source","account","setAccount","username","password","handleChange","e","name","target","value","handleSubmit","preventDefault","console","log","res","post","cancelToken","current","token","status","message","history","push","err"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,MAA1B,QAAwC,OAAxC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,eAAe,SAASC,KAAT,CAAeC,KAAf,EAAsB;AAEjC,QAAMC,GAAG,GAAG,6BAAZ;AAEA,QAAMC,MAAM,GAAGL,MAAM,CAACC,KAAK,CAACK,WAAN,CAAkBC,MAAlB,EAAD,CAArB;AAEA,MAAI,CAACC,OAAD,EAAUC,UAAV,IAAwBV,QAAQ,CAAC;AACjCW,IAAAA,QAAQ,EAAE,EADuB;AAEjCC,IAAAA,QAAQ,EAAE;AAFuB,GAAD,CAApC;;AAKA,MAAIC,YAAY,GAAIC,CAAD,IAAO;AACtB,QAAIC,IAAI,GAAGD,CAAC,CAACE,MAAF,CAASD,IAApB;AACA,QAAIE,KAAK,GAAGH,CAAC,CAACE,MAAF,CAASC,KAArB;AACAR,IAAAA,OAAO,CAACM,IAAD,CAAP,GAAgBE,KAAhB;AACAP,IAAAA,UAAU,CAAC,EAAC,GAAGD,OAAJ;AAAaA,MAAAA;AAAb,KAAD,CAAV;AACD,GALH;;AAOA,QAAMS,YAAY,GAAG,MAAOJ,CAAP,IAAa;AAC9BA,IAAAA,CAAC,CAACK,cAAF;AACA,QAAI;AAAER,MAAAA,QAAF;AAAYC,MAAAA;AAAZ,QAAyBH,OAA7B;AAEAW,IAAAA,OAAO,CAACC,GAAR,CAAYV,QAAZ,EAAsBC,QAAtB;;AACA,QAAG;AACC,YAAMU,GAAG,GAAG,MAAMpB,KAAK,CAACqB,IAAN,CAAWlB,GAAX,EAAgB;AAC9BM,QAAAA,QAD8B;AACrBC,QAAAA;AADqB,OAAhB,EAEf;AAACY,QAAAA,WAAW,EAAElB,MAAM,CAACmB,OAAP,CAAeC;AAA7B,OAFe,CAAlB;AAGAN,MAAAA,OAAO,CAACC,GAAR,CAAYC,GAAZ;;AACA,UAAI,CAACA,GAAG,CAACK,MAAT,EAAgB;AACZP,QAAAA,OAAO,CAACC,GAAR,CAAYC,GAAG,CAACM,OAAhB;AACA,eAAON,GAAG,CAACM,OAAX;AACH;;AACDR,MAAAA,OAAO,CAACC,GAAR,CAAYjB,KAAZ;AACAA,MAAAA,KAAK,CAACyB,OAAN,CAAcC,IAAd,CAAmB,GAAnB;AACH,KAXD,CAWE,OAAMC,GAAN,EAAU;AACRX,MAAAA,OAAO,CAACC,GAAR,CAAYU,GAAZ;AACH;;AACDrB,IAAAA,UAAU,CAAC,EAAC,GAAGD,OAAJ;AAAaE,MAAAA,QAAQ,EAAC,EAAtB;AAA0BC,MAAAA,QAAQ,EAAC;AAAnC,KAAD,CAAV;AACH,GApBD;;AAsBA,sBACI;AAAK,IAAA,SAAS,EAAC,mCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADJ,eAEI;AAAM,IAAA,QAAQ,EAAEE,CAAC,IAAI;AAACI,MAAAA,YAAY,CAACJ,CAAD,CAAZ;AAAgB,KAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAO,IAAA,IAAI,EAAC,MAAZ;AAAmB,IAAA,IAAI,EAAC,UAAxB;AAAmC,IAAA,KAAK,EAAEL,OAAO,CAACE,QAAlD;AAA4D,IAAA,QAAQ,EAAEE,YAAtE;AAAoF,IAAA,WAAW,EAAC,UAAhG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,eAEI;AAAO,IAAA,IAAI,EAAC,MAAZ;AAAmB,IAAA,IAAI,EAAC,UAAxB;AAAmC,IAAA,KAAK,EAAEJ,OAAO,CAACG,QAAlD;AAA4D,IAAA,QAAQ,EAAEC,YAAtE;AAAoF,IAAA,WAAW,EAAC,UAAhG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,eAGI;AAAS,IAAA,SAAS,EAAC,KAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAHJ,CAFJ,CADJ;AAWH","sourcesContent":["import React, { useState, useRef } from 'react'\nimport axios from 'axios'\n\nexport default function Login(props) {\n\n    const url = \"http://localhost:5000/login\";\n\n    const signal = useRef(axios.CancelToken.source());\n\n    let [account, setAccount] = useState({\n        username: '',\n        password: ''\n      }); \n\n    let handleChange = (e) => {\n        let name = e.target.name;\n        let value = e.target.value;\n        account[name] = value;\n        setAccount({...account, account});\n      }\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        let { username, password } = account\n\n        console.log(username, password)\n        try{\n            const res = await axios.post(url, {\n                username,password\n            }, {cancelToken: signal.current.token,})\n            console.log(res)\n            if (!res.status){\n                console.log(res.message)\n                return res.message\n            }\n            console.log(props)\n            props.history.push('/')\n        } catch(err){\n            console.log(err)\n        }\n        setAccount({...account, username:'', password:''});\n    }\n\n    return (\n        <div className=\"home col-sm-10 col-md-10 col-lg-5\" >\n            <p>Login</p> \n            <form onSubmit={e => {handleSubmit(e)}}>\n                <input type=\"text\" name=\"username\" value={account.username} onChange={handleChange} placeholder=\"username\"/>  \n                <input type=\"text\" name=\"password\" value={account.password} onChange={handleChange} placeholder=\"password\"/>   \n                <button  className=\"btn\">Sign in</button>\n            </form>   \n                       \n        </div>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}