{"ast":null,"code":"var _jsxFileName = \"/Users/sayconfirmproductionsltd/Documents/GitHub/react-twitter-clone/frontend/src/pages/Home.js\";\nimport React, { useEffect, useRef, useState } from \"react\";\nimport styled from \"styled-components\";\nimport Title from \"../components/reusables/Title\";\nimport NewTweet from \"../components/NewTweet\";\nimport twitter from '../twitter.png';\nimport Tweet from \"../components/Tweet\";\nimport dp from '../dp.jpg';\nimport word from '../word.mp4';\nimport axios from 'axios';\nexport default function () {\n  const url = \"http://localhost:5000/tweets\";\n  const [tweets, setTweets] = useState([]);\n  const [user, setUser] = useState({});\n  const signal = useRef(axios.CancelToken.source());\n  useEffect(() => {\n    const getTweets = async () => {\n      try {\n        const res = await axios.get(url, {\n          cancelToken: signal.current.token\n        });\n        console.log(res.data);\n        setTweets(res.data);\n      } catch (error) {\n        if (axios.isCancel(error)) {\n          console.log('Request canceled', error.message);\n        } else {\n          throw error;\n        }\n      }\n    };\n\n    getTweets();\n    return () => {\n      console.log('unmount and cancel running axios request');\n      signal.current.cancel('Operation canceled by the user.');\n    };\n  }, [url]);\n  useEffect(() => {\n    const getUser = async username => {\n      const url = `http://localhost:5000/${username}`;\n\n      try {\n        const res = await axios.get(url, {\n          cancelToken: signal.current.token\n        });\n        console.log(res.data);\n        setUser(res.data);\n      } catch (error) {\n        if (axios.isCancel(error)) {\n          console.log('Request canceled', error.message);\n        } else {\n          throw error;\n        }\n      }\n    };\n\n    getUser(tweet.user.username);\n    return () => {\n      console.log('unmount and cancel running axios request');\n      signal.current.cancel('Operation canceled by the user.');\n    };\n  }, [tweet.user.username]);\n  const twee = `The government wants us to believe they are working to meet our \n  demands but they can’t even guarantee the safety and security of peaceful protesters \n  and innocent citizens from thugs!! What exactly do they think we have been fighting \n  for??? #EndSARS\n  `;\n  const tweet = {\n    tweet: twee,\n    comments: 12,\n    retweets: 23,\n    likes: 76,\n    user: {\n      profileName: 'nurse kay',\n      username: 'oluwakayy',\n      profilePictureUrl: 'https://res.cloudinary.com/lollykrown/image/upload/v1533672970/samples/bike.jpg'\n    },\n    createdAt: Date.now()\n  };\n  let images = [];\n  images.push(dp, dp, dp, dp);\n  return /*#__PURE__*/React.createElement(HomeContainer, {\n    className: \"home col-sm-10 col-md-10 col-lg-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Title, {\n    title: \"home\",\n    icon: twitter,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(NewTweet, {\n    dp: tweet.user.profilePictureUrl,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 9\n    }\n  }), tweets.map((tweet, i) => /*#__PURE__*/React.createElement(Tweet, {\n    key: i,\n    tweet: tweet,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 35\n    }\n  })), /*#__PURE__*/React.createElement(Tweet, {\n    tweet: tweet,\n    user: user,\n    images: images,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Tweet, {\n    tweet: tweet,\n    user: user,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Tweet, {\n    tweet: tweet,\n    user: user,\n    video: word,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Tweet, {\n    tweet: tweet,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Tweet, {\n    tweet: tweet,\n    images: [dp, dp],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 9\n    }\n  }));\n}\nconst HomeContainer = styled.div`\n// position:relative;\n\n`;","map":{"version":3,"sources":["/Users/sayconfirmproductionsltd/Documents/GitHub/react-twitter-clone/frontend/src/pages/Home.js"],"names":["React","useEffect","useRef","useState","styled","Title","NewTweet","twitter","Tweet","dp","word","axios","url","tweets","setTweets","user","setUser","signal","CancelToken","source","getTweets","res","get","cancelToken","current","token","console","log","data","error","isCancel","message","cancel","getUser","username","tweet","twee","comments","retweets","likes","profileName","profilePictureUrl","createdAt","Date","now","images","push","map","i","HomeContainer","div"],"mappings":"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","sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\nimport styled from \"styled-components\";\nimport Title from \"../components/reusables/Title\";\nimport NewTweet from \"../components/NewTweet\";\nimport twitter from '../twitter.png';\nimport Tweet from \"../components/Tweet\";\nimport dp from '../dp.jpg';\nimport word from '../word.mp4';\nimport axios from 'axios'\n\nexport default function () {\n  const url = \"http://localhost:5000/tweets\";\n\n  const [ tweets, setTweets ] = useState([])\n  const [ user, setUser] = useState({})\n\n  const signal = useRef(axios.CancelToken.source());\n\n\n  useEffect(() => {\n\n    const getTweets = async () => {    \n  \n      try {\n        const res = await axios.get(url,  { cancelToken: signal.current.token });\n        console.log(res.data)\n        setTweets(res.data)\n      } catch (error) {\n        if (axios.isCancel(error)) {\n          console.log('Request canceled', error.message);\n        } else {\n          throw error\n        }\n      }\n    };\n    \n    getTweets()\n    return () => {\n      console.log('unmount and cancel running axios request');\n      signal.current.cancel('Operation canceled by the user.');\n    };\n  }, [url])\n\n  useEffect(() => {\n\n    const getUser= async (username) => {  \n      const url = `http://localhost:5000/${username}`;  \n  \n      try {\n        const res = await axios.get(url,  { cancelToken: signal.current.token });\n        console.log(res.data)\n        setUser(res.data)\n      } catch (error) {\n        if (axios.isCancel(error)) {\n          console.log('Request canceled', error.message);\n        } else {\n          throw error\n        }\n      }\n    };\n    \n    getUser(tweet.user.username)\n    return () => {\n      console.log('unmount and cancel running axios request');\n      signal.current.cancel('Operation canceled by the user.');\n    };\n  }, [tweet.user.username])\n\n  const twee = `The government wants us to believe they are working to meet our \n  demands but they can’t even guarantee the safety and security of peaceful protesters \n  and innocent citizens from thugs!! What exactly do they think we have been fighting \n  for??? #EndSARS\n  `;\n\n  const tweet = {\n    tweet:twee,\n    comments:12,\n    retweets:23,\n    likes:76,\n    user:{\n      profileName:'nurse kay',\n      username:'oluwakayy',\n      profilePictureUrl:'https://res.cloudinary.com/lollykrown/image/upload/v1533672970/samples/bike.jpg'\n    },\n    createdAt: Date.now()\n  }\n  \n  let images = [];\n  images.push(dp,dp, dp, dp)\n  return (\n    <HomeContainer className=\"home col-sm-10 col-md-10 col-lg-6\">\n      <Title title=\"home\" icon={twitter} />\n        <NewTweet dp={tweet.user.profilePictureUrl}/>\n        {tweets.map((tweet, i) => <Tweet key={i} tweet={tweet}/>)}\n        <Tweet tweet={tweet} user={user} images={images}/>\n        <Tweet tweet={tweet} user={user}/>\n        <Tweet tweet={tweet} user={user} video={word}/>\n        \n        <Tweet tweet={tweet}/>\n        <Tweet tweet={tweet} images={[dp,dp]}/>\n\n\n    </HomeContainer>\n  );\n}\n\nconst HomeContainer = styled.div`\n// position:relative;\n\n`;"]},"metadata":{},"sourceType":"module"}