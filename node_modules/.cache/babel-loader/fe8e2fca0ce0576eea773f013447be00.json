{"ast":null,"code":"var _jsxFileName = \"/Users/sayconfirmproductionsltd/Documents/GitHub/react-twitter-clone/frontend/src/components/NewTweet.js\";\nimport React, { useState, useRef } from \"react\";\nimport styled from \"styled-components\"; // import { toast } from \"react-toastify\";\n\nimport TextareaAutosize from \"react-textarea-autosize\";\nimport Avatar from \"./reusables/Avatar\";\nimport dp from '../dp.jpg';\nimport axios from 'axios';\n\nconst NewTweet = () => {\n  const url = \"http://localhost:5000/compose/tweet'\";\n  const [tweet, setTweet] = useState('');\n  const [errors, setErrors] = useState(null);\n  const signal = useRef(axios.CancelToken.source());\n\n  let handleChange = e => {\n    let val = e.target.value;\n    setTweet(val);\n  };\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n\n    try {\n      const res = await axios.post(url, {\n        tweet\n      }, {\n        cancelToken: signal.current.token\n      });\n      console.log(res);\n\n      if (!res.status) {\n        setErrors(res.data.message);\n        return;\n      }\n    } catch (err) {\n      if (axios.isCancel(e)) {\n        console.log('Get request canceled');\n        setErrors(e.message);\n      } else {\n        console.log(err);\n        setErrors(err.message);\n      }\n    }\n\n    return () => {\n      console.log('unmount and cancel running axios request');\n      signal.current.cancel('Operation canceled by the user.');\n      setTweet('');\n    };\n  };\n\n  return /*#__PURE__*/React.createElement(Wrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Avatar, {\n    src: dp,\n    alt: \"avatar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"form\", {\n    className: \"form\",\n    onSubmit: e => {\n      handleSubmit(e);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(TextareaAutosize, {\n    autoFocus: true,\n    max: \"160\",\n    cols: \"55\",\n    placeholder: \"What's happening?\",\n    type: \"text\",\n    className: \"text-area ml-2\",\n    value: tweet,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }\n  }), alert(error), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"globe pr-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fa fa-globe ml-2\",\n    \"aria-hidden\": \"true\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"small-text ml-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 11\n    }\n  }, \"Everyone can reply\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"blue mt-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"file-input\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"far fa-image\",\n    \"aria-hidden\": \"true\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"gif-input\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"far fa-file\",\n    \"aria-hidden\": \"true\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"smiley\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"far fa-smile\",\n    \"aria-hidden\": \"true\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"schedule\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"far fa-calendar-plus\",\n    \"aria-hidden\": \"true\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"tweet-btn mr-0\",\n    disabled: tweet.length === 0 ? true : false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 11\n    }\n  }, \"Tweet\"))));\n};\n\nconst Wrapper = styled.div`\n  display: flex;\n  padding: 1rem 0 0 1rem;\n  border-bottom: .75rem solid var(--search);\n  margin-right: .5rem;\n\n  .far{\n    cursor: pointer;\n    font-size: 1.35rem;\n    padding: .5rem .75rem;\n  }\n  .far:hover{\n    background-color: var(--lightBlue);\n    border-radius: 2rem;\n    width: max-content;\n    padding: .5rem .75rem;\n  }\n  textarea {\n    width: 100%;\n    border:none;\n    font-size: 1.23rem;\n    margin-bottom: .75rem;\n    resize:none;\n  }\n  .tweet-btn{\n    float:right;\n    border:none;\n    background-color: #1da1f2;\n    padding:.3rem 1.25rem;\n    border-radius: 1.5rem;\n    font-weight:700 ;\n    font-size: 1rem;\n    color: var(--mainWhite);\n  }\n  .tweet-btn:disabled {\n    background: var(--disabledBlue);\n  }\n  .blue{\n    color: var(--mainBlue)\n  }\n  .globe{\n    font-weight:700;\n    font-size: .9rem;\n    color: var(--mainBlue);\n    border-bottom: .12rem solid var(--search);\n  }\n  .globe:hover{\n    background-color: var(--lightBlue);\n    border-radius: 2rem;\n    width: max-content;\n  }\n`;\nexport default NewTweet;","map":{"version":3,"sources":["/Users/sayconfirmproductionsltd/Documents/GitHub/react-twitter-clone/frontend/src/components/NewTweet.js"],"names":["React","useState","useRef","styled","TextareaAutosize","Avatar","dp","axios","NewTweet","url","tweet","setTweet","errors","setErrors","signal","CancelToken","source","handleChange","e","val","target","value","handleSubmit","preventDefault","res","post","cancelToken","current","token","console","log","status","data","message","err","isCancel","cancel","alert","error","length","Wrapper","div"],"mappings":"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","sourcesContent":["import React, { useState, useRef } from \"react\";\nimport styled from \"styled-components\";\n// import { toast } from \"react-toastify\";\nimport TextareaAutosize from \"react-textarea-autosize\";\nimport Avatar from \"./reusables/Avatar\";\nimport dp from '../dp.jpg';\nimport axios from 'axios'\n\nconst NewTweet = () => {\n  const url = \"http://localhost:5000/compose/tweet'\";\n\n  const [ tweet, setTweet ] = useState('')\n\n  const [ errors, setErrors ] = useState(null)\n\n  const signal = useRef(axios.CancelToken.source());\n\n  let handleChange = (e) => {\n      let val = e.target.value;\n      setTweet(val);\n  }\n\nconst handleSubmit = async (e) => {\n  e.preventDefault();\n\n  try {\n      const res = await axios.post(url, {\n          tweet\n      }, { cancelToken: signal.current.token, })\n      console.log(res)\n\n      if (!res.status) {\n          setErrors(res.data.message)\n          return;\n      }\n  } catch (err) {\n      if (axios.isCancel(e)) {\n          console.log('Get request canceled');\n          setErrors(e.message)\n      } else {\n          console.log(err)\n          setErrors(err.message)\n      }\n  }\n\n  \n  return () => {\n      console.log('unmount and cancel running axios request');\n      signal.current.cancel('Operation canceled by the user.');\n      setTweet('');\n    };\n}\n\n  return (\n    <Wrapper>\n      <Avatar src={dp} alt=\"avatar\" />\n      <form className=\"form\" onSubmit={e => { handleSubmit(e) }}>\n        <TextareaAutosize\n          autoFocus\n          max=\"160\"\n          cols=\"55\"\n          placeholder=\"What's happening?\"\n          type=\"text\"\n          className=\"text-area ml-2\"\n          value={tweet}\n          onChange={handleChange}\n        />\n        {alert(error)}\n        <div className=\"globe pr-2\">\n          <i className=\"fa fa-globe ml-2\" aria-hidden=\"true\"></i> \n          <span className=\"small-text ml-1\">Everyone can reply</span>\n        </div>\n        <div className=\"blue mt-1\">\n          <label htmlFor=\"file-input\">\n                <i className=\"far fa-image\" aria-hidden=\"true\"></i> \n                {/* <input id=\"file-input\" accept=\"image/*\" type=\"file\"  /> */}\n              </label>\n          <label htmlFor=\"gif-input\">\n                <i className=\"far fa-file\" aria-hidden=\"true\"></i> \n                {/* <input id=\"gif-input\" accept=\"image/*\" type=\"file\"  /> */}\n              </label>\n          <label htmlFor=\"smiley\">\n                <i className=\"far fa-smile\" aria-hidden=\"true\"></i> \n                {/* <input id=\"smiley\" accept=\"image/*\" type=\"file\"  /> */}\n              </label>\n          <label htmlFor=\"schedule\">\n                <i className=\"far fa-calendar-plus\" aria-hidden=\"true\"></i> \n                {/* <input id=\"schedule\" accept=\"image/*\" type=\"file\"  /> */}\n              </label>\n          <button className=\"tweet-btn mr-0\" disabled={tweet.length===0?true:false}>\n            Tweet\n          </button>\n        </div>\n      </form>\n    </Wrapper>\n  );\n};\n\nconst Wrapper = styled.div`\n  display: flex;\n  padding: 1rem 0 0 1rem;\n  border-bottom: .75rem solid var(--search);\n  margin-right: .5rem;\n\n  .far{\n    cursor: pointer;\n    font-size: 1.35rem;\n    padding: .5rem .75rem;\n  }\n  .far:hover{\n    background-color: var(--lightBlue);\n    border-radius: 2rem;\n    width: max-content;\n    padding: .5rem .75rem;\n  }\n  textarea {\n    width: 100%;\n    border:none;\n    font-size: 1.23rem;\n    margin-bottom: .75rem;\n    resize:none;\n  }\n  .tweet-btn{\n    float:right;\n    border:none;\n    background-color: #1da1f2;\n    padding:.3rem 1.25rem;\n    border-radius: 1.5rem;\n    font-weight:700 ;\n    font-size: 1rem;\n    color: var(--mainWhite);\n  }\n  .tweet-btn:disabled {\n    background: var(--disabledBlue);\n  }\n  .blue{\n    color: var(--mainBlue)\n  }\n  .globe{\n    font-weight:700;\n    font-size: .9rem;\n    color: var(--mainBlue);\n    border-bottom: .12rem solid var(--search);\n  }\n  .globe:hover{\n    background-color: var(--lightBlue);\n    border-radius: 2rem;\n    width: max-content;\n  }\n`;\nexport default NewTweet;\n"]},"metadata":{},"sourceType":"module"}